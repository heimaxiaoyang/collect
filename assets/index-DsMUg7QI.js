import{u as H,c as x,a as w,o as y,w as o,b as l,F as O,_ as E,S as V,d as e,e as j,R as J,f as k,g as F,r as b,M as K,s as q,k as z,l as N,I as T,C as B,B as A,P as D,h as G,i as Q,j as W,n as X,m as Y,p as Z,q as h,t as ee,v as le,x as te}from"./index-CvPdhGze.js";import{u as U,_ as oe,U as ae,a as P,d as I,e as $,b as ne,c as se,C as ue,f as de}from"./index-CTWC6uRQ.js";const ie=[{icon:"SettingOutlined",handler:"clickSetting",key:1},{icon:"DownloadOutlined",handler:"clickDownload",key:3},{icon:"UploadOutlined",handler:"clickUpload",key:4},{icon:"HeartOutlined",handler:"clickHeart",key:5},{icon:"EditOutlined",handler:"clickEdit",key:6}],pe=[{value:3,label:"一行8个"},{value:4,label:"一行6个"},{value:6,label:"一行4个"},{value:8,label:"一行3个"},{value:12,label:"一行2个"},{value:24,label:"一行1个"}],re={__name:"rightDrawer",props:{open:{type:Boolean,default:!1}},emits:["closed"],setup(g,{emit:m}){const f=g,_=m,r=U(),a=H(),d=x(()=>r.options),v=x(()=>a.options);return(s,t)=>{const i=V,c=E,p=J,S=j,u=O;return y(),w(oe,{open:f.open,title:"收藏页配置",onClose:t[5]||(t[5]=n=>_("closed"))},{default:o(()=>[l(u,{name:"basic",layout:"vertical"},{default:o(()=>[l(c,{label:"布局调整",name:"column"},{default:o(()=>[l(i,{value:e(d).column,"onUpdate:value":t[0]||(t[0]=n=>e(d).column=n),options:e(pe)},null,8,["value","options"])]),_:1}),l(c,{label:"是否可以拖拽",name:"disabled"},{default:o(()=>[l(S,{value:e(d).disabled,"onUpdate:value":t[1]||(t[1]=n=>e(d).disabled=n)},{default:o(()=>[l(p,{value:!1},{default:o(()=>t[6]||(t[6]=[k("是")])),_:1}),l(p,{value:!0},{default:o(()=>t[7]||(t[7]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1}),l(c,{label:"是否长显悬浮层",name:"isFloatButton"},{default:o(()=>[l(S,{value:e(d).isFloatButton,"onUpdate:value":t[2]||(t[2]=n=>e(d).isFloatButton=n)},{default:o(()=>[l(p,{value:!0},{default:o(()=>t[8]||(t[8]=[k("是")])),_:1}),l(p,{value:!1},{default:o(()=>t[9]||(t[9]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1}),l(c,{label:"是否显示二级菜单(与首页配置公用)",name:"isShowSecondMenu"},{default:o(()=>[l(S,{value:e(v).isShowSecondMenu,"onUpdate:value":t[3]||(t[3]=n=>e(v).isShowSecondMenu=n)},{default:o(()=>[l(p,{value:!0},{default:o(()=>t[10]||(t[10]=[k("是")])),_:1}),l(p,{value:!1},{default:o(()=>t[11]||(t[11]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1}),l(c,{label:"是否开启简洁模式",name:"isSimpleMode"},{default:o(()=>[l(S,{value:e(d).isSimpleMode,"onUpdate:value":t[4]||(t[4]=n=>e(d).isSimpleMode=n)},{default:o(()=>[l(p,{value:!0},{default:o(()=>t[12]||(t[12]=[k("是")])),_:1}),l(p,{value:!1},{default:o(()=>t[13]||(t[13]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["open"])}}},ce={__name:"uploadModal",props:{open:{type:Boolean,default:!1}},emits:["closed"],setup(g,{emit:m}){const f=g,_=m,r=U(),a=b({}),d=b(null),v=t=>{a.value=t.data},s=()=>{K.confirm({title:"确认上传（不可逆操作）",content:"确认上传配置文件？",onOk:()=>{r.setConfigFile(a.value),q(7)},onCancel:()=>{console.log("Cancel")}}),d.value.resetFile(),_("closed")};return(t,i)=>(y(),w(e(P),{open:f.open,title:"上传配置文件",onClose:i[0]||(i[0]=c=>(_("closed"),e(d).resetFile())),width:500,onOk:s},{default:o(()=>[l(e(ae),{ref_key:"upLoadFilesRef",ref:d,class:"up-loadFiles",onSuccess:v},null,512)]),_:1},8,["open"]))}},me=F(ce,[["__scopeId","data-v-22585349"]]),fe={__name:"addEditModal",props:{open:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},emits:["closed"],setup(g,{emit:m}){const f=g,_=m,r=U(),a=b({});z(()=>f.open,v=>{var s;v||(s=f.data)!=null&&s.id?a.value=JSON.parse(JSON.stringify(f.data)):a.value={other:[]}});const d=()=>{a.value.id?r.updateCollecPagesList(a.value):r.pushCollectList(a.value),_("closed")};return(v,s)=>{const t=T,i=E,c=A,p=B,S=O;return y(),w(e(P),{open:f.open,title:g.data.id?"编辑":"添加",onClose:s[4]||(s[4]=u=>_("closed")),width:800,onOk:d},{default:o(()=>[l(S,{name:"basic",layout:"vertical"},{default:o(()=>[l(i,{label:"标题",name:"title"},{default:o(()=>[l(t,{value:e(a).title,"onUpdate:value":s[0]||(s[0]=u=>e(a).title=u),placeholder:"请输入"},null,8,["value"])]),_:1}),l(i,{label:"链接",name:"link"},{default:o(()=>[l(t,{value:e(a).link,"onUpdate:value":s[1]||(s[1]=u=>e(a).link=u),placeholder:"请输入"},null,8,["value"])]),_:1}),e(a).other&&e(a).other.length>0?(y(),w(p,{key:0},{default:o(()=>[l(i,{label:"二级标题",name:"otherName"},{default:o(()=>[l(t,{value:e(a).otherName,"onUpdate:value":s[2]||(s[2]=u=>e(a).otherName=u),placeholder:"请输入"},null,8,["value"])]),_:1}),l(e(I),{list:e(a).other,itemKey:"id"},{item:o(({element:u,index:n})=>[l(p,{style:{"margin-bottom":"10px"}},{default:o(()=>[l(i,{label:`${n+1}.标题`,name:"title"},{default:o(()=>[l(t,{value:u.title,"onUpdate:value":C=>u.title=C,placeholder:"请输入"},null,8,["value","onUpdate:value"])]),_:2},1032,["label"]),l(i,{label:`${n+1}.链接`,name:"link"},{default:o(()=>[l(t,{value:u.link,"onUpdate:value":C=>u.link=C,placeholder:"请输入"},null,8,["value","onUpdate:value"])]),_:2},1032,["label"]),l(c,{style:{position:"absolute",right:"10px",top:"10px"},type:"link",danger:"",onClick:C=>e(a).other.splice(n,1)},{default:o(()=>s[5]||(s[5]=[k("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["list"])]),_:1})):N("",!0),l(c,{style:{width:"100%","margin-top":"10px"},type:"primary",onClick:s[3]||(s[3]=u=>e(a).other.push({}))},{default:o(()=>s[6]||(s[6]=[k("添加二级菜单项")])),_:1})]),_:1})]),_:1},8,["open","title"])}}},_e={__name:"addCollecPagesList",setup(g){return(m,f)=>{const _=B;return y(),w(_,{class:"card",hoverable:""},{default:o(()=>[l(e(D))]),_:1})}}},ve=F(_e,[["__scopeId","data-v-b1f7985e"]]),be={__name:"index",setup(g){const m=U(),f=x(()=>m.collectList),_=x(()=>m.collecPagesList),r=x(()=>m.options),a=b(!1),d=b(!1),v=b(!1),s=b({}),t=b(!1),i=b(!1),c=b({}),p=b(!1),S=u=>{switch(u.handler){case"clickSetting":a.value=!0;break;case"clickDownload":m.downloadConfigFile();break;case"clickUpload":t.value=!0;break;case"clickHeart":d.value=!d.value;break;case"clickEdit":d.value=!0,p.value=!p.value;break}};return G(()=>{$.on("openSecondMenu",u=>{s.value=u,v.value=!0}),$.on("openEdit",u=>{c.value=u,i.value=!0})}),Q(()=>{$.off("openSecondMenu"),$.off("openEdit")}),(u,n)=>{const C=ee,L=B,R=Y;return y(),W(Z,null,[l(R,{gutter:16,class:"collect",style:X({maxHeight:e(d)?"100%":""})},{default:o(()=>[l(C,{class:"card-list",flex:"auto"},{default:o(()=>[l(e(ue),{"data-list":e(_),span:e(r).column,disabled:e(r).disabled,pages:"collect",isSimpleMode:e(r).isSimpleMode},null,8,["data-list","span","disabled","isSimpleMode"]),l(ve)]),_:1}),h(l(C,{class:"collect-list",flex:"350px"},{default:o(()=>[l(L,{class:"card-box"},{default:o(()=>[e(p)?(y(),w(L,{key:0,class:"add-box",hoverable:"",onClick:n[0]||(n[0]=M=>(i.value=!0,c.value={}))},{default:o(()=>[l(e(D))]),_:1})):N("",!0),l(e(I),{list:e(f),itemKey:"id",group:"collect",disabled:e(r).disabled},{item:o(({element:M})=>[le("div",null,[l(e(de),{data:M,pages:"collect-list",showIcon:["edit","delect"],isSimpleMode:e(r).isSimpleMode},null,8,["data","isSimpleMode"])])]),_:1},8,["list","disabled"])]),_:1})]),_:1},512),[[te,e(d)]])]),_:1},8,["style"]),l(e(ne),{list:e(ie),isFloatButton:e(r).isFloatButton,onClick:S},null,8,["list","isFloatButton"]),l(re,{open:e(a),onClosed:n[1]||(n[1]=M=>a.value=!1)},null,8,["open"]),l(e(se),{open:e(v),data:e(s),onClosed:n[2]||(n[2]=M=>v.value=!1)},null,8,["open","data"]),l(me,{open:e(t),onClosed:n[3]||(n[3]=M=>t.value=!1)},null,8,["open"]),l(fe,{open:e(i),data:e(c),onClosed:n[4]||(n[4]=M=>i.value=!1)},null,8,["open","data"])],64)}}},Se=F(be,[["__scopeId","data-v-6fb19046"]]);export{Se as default};
