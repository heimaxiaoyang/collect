import{u as U,c as g,a as B,o as M,w as t,b as o,F as L,_ as $,S as O,d as l,e as D,R as H,f as r,g as y,r as f,M as R,s as I,h as N,i as V,j as P,n as j,k as q,l as z,m as E,p as K,C as T,q as A,v as G}from"./index-B_dluymr.js";import{u as F,_ as J,U as Q,a as W,e as x,b as X,c as Y,C as Z,d as h,f as ee}from"./index-DRZ-BfwN.js";const le=[{icon:"SettingOutlined",handler:"clickSetting",key:1},{icon:"DownloadOutlined",handler:"clickDownload",key:3},{icon:"UploadOutlined",handler:"clickUpload",key:4},{icon:"HeartOutlined",handler:"clickHeart",key:5}],oe=[{value:3,label:"一行8个"},{value:4,label:"一行6个"},{value:6,label:"一行4个"},{value:8,label:"一行3个"},{value:12,label:"一行2个"},{value:24,label:"一行1个"}],te={__name:"rightDrawer",props:{open:{type:Boolean,default:!1}},emits:["closed"],setup(k,{emit:d}){const S=k,_=d,i=F(),c=U(),a=g(()=>i.options),p=g(()=>c.options);return(b,e)=>{const v=O,u=$,s=H,m=D,C=L;return M(),B(J,{open:S.open,title:"收藏页配置",onClose:e[5]||(e[5]=n=>_("closed"))},{default:t(()=>[o(C,{name:"basic",layout:"vertical"},{default:t(()=>[o(u,{label:"布局调整",name:"column"},{default:t(()=>[o(v,{value:l(a).column,"onUpdate:value":e[0]||(e[0]=n=>l(a).column=n),options:l(oe)},null,8,["value","options"])]),_:1}),o(u,{label:"是否可以拖拽",name:"disabled"},{default:t(()=>[o(m,{value:l(a).disabled,"onUpdate:value":e[1]||(e[1]=n=>l(a).disabled=n)},{default:t(()=>[o(s,{value:!1},{default:t(()=>e[6]||(e[6]=[r("是")])),_:1}),o(s,{value:!0},{default:t(()=>e[7]||(e[7]=[r("否")])),_:1})]),_:1},8,["value"])]),_:1}),o(u,{label:"是否长显悬浮层",name:"isFloatButton"},{default:t(()=>[o(m,{value:l(a).isFloatButton,"onUpdate:value":e[2]||(e[2]=n=>l(a).isFloatButton=n)},{default:t(()=>[o(s,{value:!0},{default:t(()=>e[8]||(e[8]=[r("是")])),_:1}),o(s,{value:!1},{default:t(()=>e[9]||(e[9]=[r("否")])),_:1})]),_:1},8,["value"])]),_:1}),o(u,{label:"是否显示二级菜单(与首页配置公用)",name:"isShowSecondMenu"},{default:t(()=>[o(m,{value:l(p).isShowSecondMenu,"onUpdate:value":e[3]||(e[3]=n=>l(p).isShowSecondMenu=n)},{default:t(()=>[o(s,{value:!0},{default:t(()=>e[10]||(e[10]=[r("是")])),_:1}),o(s,{value:!1},{default:t(()=>e[11]||(e[11]=[r("否")])),_:1})]),_:1},8,["value"])]),_:1}),o(u,{label:"是否开启简洁模式",name:"isSimpleMode"},{default:t(()=>[o(m,{value:l(a).isSimpleMode,"onUpdate:value":e[4]||(e[4]=n=>l(a).isSimpleMode=n)},{default:t(()=>[o(s,{value:!0},{default:t(()=>e[12]||(e[12]=[r("是")])),_:1}),o(s,{value:!1},{default:t(()=>e[13]||(e[13]=[r("否")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["open"])}}},ae={__name:"uploadModal",props:{open:{type:Boolean,default:!1}},emits:["closed"],setup(k,{emit:d}){const S=k,_=d,i=F(),c=f({}),a=f(null),p=e=>{c.value=e.data},b=()=>{R.confirm({title:"确认上传（不可逆操作）",content:"确认上传配置文件？",onOk:()=>{i.setConfigFile(c.value),I(7)},onCancel:()=>{console.log("Cancel")}}),a.value.resetFile(),_("closed")};return(e,v)=>(M(),B(l(W),{open:S.open,title:"上传配置文件",onClose:v[0]||(v[0]=u=>(_("closed"),l(a).resetFile())),width:500,onOk:b},{default:t(()=>[o(l(Q),{ref_key:"upLoadFilesRef",ref:a,class:"up-loadFiles",onSuccess:p},null,512)]),_:1},8,["open"]))}},se=y(ae,[["__scopeId","data-v-22585349"]]),ne={__name:"index",setup(k){const d=F(),S=g(()=>d.collectList),_=g(()=>d.collecPagesList),i=g(()=>d.options),c=f(!1),a=f(!1),p=f(!1),b=f({}),e=f(!1),v=u=>{switch(u.handler){case"clickSetting":c.value=!0;break;case"clickDownload":d.downloadConfigFile();break;case"clickUpload":e.value=!0;break;case"clickHeart":a.value=!a.value}};return N(()=>{x.on("openSecondMenu",u=>{b.value=u,p.value=!0})}),V(()=>{x.off("openSecondMenu")}),(u,s)=>{const m=K,C=T,n=q;return M(),P(z,null,[o(n,{gutter:16,class:"collect",style:j({maxHeight:l(a)?"100%":""})},{default:t(()=>[o(m,{class:"gutter-row card-list",flex:"auto"},{default:t(()=>[o(l(Z),{"data-list":l(_),span:l(i).column,disabled:l(i).disabled,pages:"collect",isSimpleMode:l(i).isSimpleMode},null,8,["data-list","span","disabled","isSimpleMode"])]),_:1}),E(o(m,{class:"gutter-row",flex:"350px"},{default:t(()=>[o(C,{class:"card-box"},{default:t(()=>[o(l(h),{list:l(S),itemKey:"id",group:"collect",disabled:l(i).disabled},{item:t(({element:w})=>[A("div",null,[o(l(ee),{data:w,pages:"collect-list",showIcon:["delect"],isSimpleMode:l(i).isSimpleMode},null,8,["data","isSimpleMode"])])]),_:1},8,["list","disabled"])]),_:1})]),_:1},512),[[G,l(a)]])]),_:1},8,["style"]),o(l(X),{list:l(le),isFloatButton:l(i).isFloatButton,onClick:v},null,8,["list","isFloatButton"]),o(te,{open:l(c),onClosed:s[0]||(s[0]=w=>c.value=!1)},null,8,["open"]),o(l(Y),{open:l(p),data:l(b),onClosed:s[1]||(s[1]=w=>p.value=!1)},null,8,["open","data"]),o(se,{open:l(e),onClosed:s[2]||(s[2]=w=>e.value=!1)},null,8,["open"])],64)}}},de=y(ne,[["__scopeId","data-v-b1602c0b"]]);export{de as default};
