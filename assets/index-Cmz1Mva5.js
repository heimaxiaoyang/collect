import{u as H,c as x,a as M,o as S,w as o,b as l,F as E,_ as N,S as V,d as e,e as j,R as J,f as k,g as B,r as v,M as K,s as q,k as z,l as F,I as T,C as L,B as A,P,h as G,i as Q,j as W,n as X,m as Y,p as Z,q as h,t as ee,v as le,x as te}from"./index-B_q0Sqx1.js";import{u as $,_ as oe,U as ae,a as D,d as I,e as U,b as ne,c as se,C as ue,f as de}from"./index-DAVdSBme.js";const ie=[{icon:"SettingOutlined",handler:"clickSetting",key:1},{icon:"DownloadOutlined",handler:"clickDownload",key:3},{icon:"UploadOutlined",handler:"clickUpload",key:4},{icon:"HeartOutlined",handler:"clickHeart",key:5},{icon:"EditOutlined",handler:"clickEdit",key:6}],pe=[{value:3,label:"一行8个"},{value:4,label:"一行6个"},{value:6,label:"一行4个"},{value:8,label:"一行3个"},{value:12,label:"一行2个"},{value:24,label:"一行1个"}],re={__name:"rightDrawer",props:{open:{type:Boolean,default:!1}},emits:["closed"],setup(g,{emit:m}){const f=g,b=m,r=$(),a=H(),d=x(()=>r.options),_=x(()=>a.options);return(s,t)=>{const p=V,c=N,i=J,C=j,u=E;return S(),M(oe,{open:f.open,title:"收藏页配置",onClose:t[5]||(t[5]=n=>b("closed"))},{default:o(()=>[l(u,{name:"basic",layout:"vertical"},{default:o(()=>[l(c,{label:"布局调整",name:"column"},{default:o(()=>[l(p,{value:e(d).column,"onUpdate:value":t[0]||(t[0]=n=>e(d).column=n),options:e(pe)},null,8,["value","options"])]),_:1}),l(c,{label:"是否可以拖拽",name:"disabled"},{default:o(()=>[l(C,{value:e(d).disabled,"onUpdate:value":t[1]||(t[1]=n=>e(d).disabled=n)},{default:o(()=>[l(i,{value:!1},{default:o(()=>t[6]||(t[6]=[k("是")])),_:1}),l(i,{value:!0},{default:o(()=>t[7]||(t[7]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1}),l(c,{label:"是否长显悬浮层",name:"isFloatButton"},{default:o(()=>[l(C,{value:e(d).isFloatButton,"onUpdate:value":t[2]||(t[2]=n=>e(d).isFloatButton=n)},{default:o(()=>[l(i,{value:!0},{default:o(()=>t[8]||(t[8]=[k("是")])),_:1}),l(i,{value:!1},{default:o(()=>t[9]||(t[9]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1}),l(c,{label:"是否显示二级菜单(与首页配置公用)",name:"isShowSecondMenu"},{default:o(()=>[l(C,{value:e(_).isShowSecondMenu,"onUpdate:value":t[3]||(t[3]=n=>e(_).isShowSecondMenu=n)},{default:o(()=>[l(i,{value:!0},{default:o(()=>t[10]||(t[10]=[k("是")])),_:1}),l(i,{value:!1},{default:o(()=>t[11]||(t[11]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1}),l(c,{label:"是否开启简洁模式",name:"isSimpleMode"},{default:o(()=>[l(C,{value:e(d).isSimpleMode,"onUpdate:value":t[4]||(t[4]=n=>e(d).isSimpleMode=n)},{default:o(()=>[l(i,{value:!0},{default:o(()=>t[12]||(t[12]=[k("是")])),_:1}),l(i,{value:!1},{default:o(()=>t[13]||(t[13]=[k("否")])),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1},8,["open"])}}},ce={__name:"uploadModal",props:{open:{type:Boolean,default:!1}},emits:["closed"],setup(g,{emit:m}){const f=g,b=m,r=$(),a=v({}),d=v(null),_=t=>{a.value=t.data},s=()=>{K.confirm({title:"确认上传（不可逆操作）",content:"确认上传配置文件？",onOk:()=>{r.setConfigFile(a.value),q(7)},onCancel:()=>{console.log("Cancel")}}),d.value.resetFile(),b("closed")};return(t,p)=>(S(),M(e(D),{open:f.open,title:"上传配置文件",onClose:p[0]||(p[0]=c=>(b("closed"),e(d).resetFile())),width:500,onOk:s},{default:o(()=>[l(e(ae),{ref_key:"upLoadFilesRef",ref:d,class:"up-loadFiles",onSuccess:_},null,512)]),_:1},8,["open"]))}},me=B(ce,[["__scopeId","data-v-22585349"]]),fe={__name:"addEditModal",props:{open:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},emits:["closed"],setup(g,{emit:m}){const f=g,b=m,r=$(),a=v({});z(()=>f.open,_=>{var s;_&&((s=f.data)!=null&&s.id)?a.value=JSON.parse(JSON.stringify(f.data)):a.value={other:[]}});const d=()=>{a.value.id?r.updateCollecPagesList(a.value):r.pushCollectList(a.value),b("closed")};return(_,s)=>{const t=T,p=N,c=A,i=L,C=E;return S(),M(e(D),{open:f.open,title:g.data.id?"编辑":"添加",onClose:s[4]||(s[4]=u=>b("closed")),width:800,onOk:d},{default:o(()=>[l(C,{name:"basic",layout:"vertical"},{default:o(()=>[l(p,{label:"标题",name:"title"},{default:o(()=>[l(t,{value:e(a).title,"onUpdate:value":s[0]||(s[0]=u=>e(a).title=u),placeholder:"请输入"},null,8,["value"])]),_:1}),l(p,{label:"链接",name:"link"},{default:o(()=>[l(t,{value:e(a).link,"onUpdate:value":s[1]||(s[1]=u=>e(a).link=u),placeholder:"请输入"},null,8,["value"])]),_:1}),e(a).other&&e(a).other.length>0?(S(),M(i,{key:0},{default:o(()=>[l(p,{label:"二级标题",name:"otherName"},{default:o(()=>[l(t,{value:e(a).otherName,"onUpdate:value":s[2]||(s[2]=u=>e(a).otherName=u),placeholder:"请输入"},null,8,["value"])]),_:1}),l(e(I),{list:e(a).other,itemKey:"id"},{item:o(({element:u,index:n})=>[l(i,{style:{"margin-bottom":"10px"}},{default:o(()=>[l(p,{label:`${n+1}.标题`,name:"title"},{default:o(()=>[l(t,{value:u.title,"onUpdate:value":y=>u.title=y,placeholder:"请输入"},null,8,["value","onUpdate:value"])]),_:2},1032,["label"]),l(p,{label:`${n+1}.链接`,name:"link"},{default:o(()=>[l(t,{value:u.link,"onUpdate:value":y=>u.link=y,placeholder:"请输入"},null,8,["value","onUpdate:value"])]),_:2},1032,["label"]),l(c,{style:{position:"absolute",right:"10px",top:"10px"},type:"link",danger:"",onClick:y=>e(a).other.splice(n,1)},{default:o(()=>s[5]||(s[5]=[k("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1},8,["list"])]),_:1})):F("",!0),l(c,{style:{width:"100%","margin-top":"10px"},type:"primary",onClick:s[3]||(s[3]=u=>e(a).other.push({}))},{default:o(()=>s[6]||(s[6]=[k("添加二级菜单项")])),_:1})]),_:1})]),_:1},8,["open","title"])}}},_e={__name:"addCollecPagesList",setup(g){const m=$(),f=()=>{m.pushCollecPagesList()};return(b,r)=>{const a=L;return S(),M(a,{class:"card",hoverable:"",onClick:f},{default:o(()=>[l(e(P))]),_:1})}}},ve=B(_e,[["__scopeId","data-v-5bf85971"]]),be={__name:"index",setup(g){const m=$(),f=x(()=>m.collectList),b=x(()=>m.collecPagesList),r=x(()=>m.options),a=v(!1),d=v(!1),_=v(!1),s=v({}),t=v(!1),p=v(!1),c=v({}),i=v(!1),C=u=>{switch(u.handler){case"clickSetting":a.value=!0;break;case"clickDownload":m.downloadConfigFile();break;case"clickUpload":t.value=!0;break;case"clickHeart":d.value=!d.value;break;case"clickEdit":d.value=!0,i.value=!i.value;break}};return G(()=>{U.on("openSecondMenu",u=>{s.value=u,_.value=!0}),U.on("openEdit",u=>{c.value=u,p.value=!0})}),Q(()=>{U.off("openSecondMenu"),U.off("openEdit")}),(u,n)=>{const y=ee,O=L,R=Y;return S(),W(Z,null,[l(R,{gutter:16,class:"collect",style:X({maxHeight:e(d)?"100%":""})},{default:o(()=>[l(y,{class:"card-list",flex:"auto"},{default:o(()=>[l(e(ue),{"data-list":e(b),span:e(r).column,disabled:e(r).disabled,pages:"collect",isSimpleMode:e(r).isSimpleMode,isEdit:e(i)},null,8,["data-list","span","disabled","isSimpleMode","isEdit"]),e(i)?(S(),M(ve,{key:0})):F("",!0)]),_:1}),h(l(y,{class:"collect-list",flex:"350px"},{default:o(()=>[l(O,{class:"card-box"},{default:o(()=>[e(i)?(S(),M(O,{key:0,class:"add-box",hoverable:"",onClick:n[0]||(n[0]=w=>(p.value=!0,c.value={}))},{default:o(()=>[l(e(P))]),_:1})):F("",!0),l(e(I),{list:e(f),itemKey:"id",group:"collect",disabled:e(r).disabled},{item:o(({element:w})=>[le("div",null,[l(e(de),{data:w,pages:"collect-list",showIcon:["edit","delect"],isSimpleMode:e(r).isSimpleMode},null,8,["data","isSimpleMode"])])]),_:1},8,["list","disabled"])]),_:1})]),_:1},512),[[te,e(d)]])]),_:1},8,["style"]),l(e(ne),{list:e(ie),isFloatButton:e(r).isFloatButton,onClick:C},null,8,["list","isFloatButton"]),l(re,{open:e(a),onClosed:n[1]||(n[1]=w=>a.value=!1)},null,8,["open"]),l(e(se),{open:e(_),data:e(s),onClosed:n[2]||(n[2]=w=>_.value=!1)},null,8,["open","data"]),l(me,{open:e(t),onClosed:n[3]||(n[3]=w=>t.value=!1)},null,8,["open"]),l(fe,{open:e(p),data:e(c),onClosed:n[4]||(n[4]=w=>p.value=!1)},null,8,["open","data"])],64)}}},Ce=B(be,[["__scopeId","data-v-012adb93"]]);export{Ce as default};
